<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ofertas Especiales | Anmago Store</title>
    <meta name="description" content="¬°Aprovecha nuestras ofertas especiales! Descuentos exclusivos por tiempo limitado en Anmago Store.">
    
    <!-- Schema Markup para SEO -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "Ofertas Especiales - Anmago Store",
        "description": "Descuentos exclusivos por tiempo limitado",
        "url": "https://anmago.store/PROMOS.HTML",
        "breadcrumb": {
            "@type": "BreadcrumbList",
            "itemListElement": [
                {
                    "@type": "ListItem",
                    "position": 1,
                    "name": "Inicio",
                    "item": "https://anmago.store/index.html"
                },
                {
                    "@type": "ListItem",
                    "position": 2,
                    "name": "Ofertas Especiales"
                }
            ]
        }
    }
    </script>
    
    <!-- Preconexiones optimizadas -->
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="preconnect" href="https://ik.imagekit.io">
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="https://raw.githubusercontent.com">
    
    <!-- PWA y favicon -->
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="https://ik.imagekit.io/mbsk9dati/logo.jpg?tr=w-48,h-48" type="image/x-icon" />
    
    <!-- Bootstrap e iconos -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />
    
    <!-- CSS optimizado -->
    <link rel="stylesheet" href="ESTILO.CSS?v=20251206" />
    
    <!-- Scripts cr√≠ticos -->
    <script src="carrito.js?v=20251206" defer></script>
    <script src="app.js?v=20251206" defer></script>
</head>

<body class="bg-light">
    <header class="header-sticky d-flex justify-content-between align-items-center px-3 py-2">
  <!-- LOGO -->
 <div class="logo">
  <a href="#" onclick="volverAInicio(); event.preventDefault(); event.stopPropagation(); return false;">
    <img
      src="https://ik.imagekit.io/mbsk9dati/logo.jpg?tr=w-48,h-48"
      alt="ANMAGO STORE"
      width="48"
      height="48"
      loading="lazy"
      style="display: block; object-fit: contain; border-radius: 6px; cursor: pointer;"
    />
  </a>
</div>

  <!-- BUSCADOR EN HEADER -->
  <div class="flex-grow-1 mx-3 position-relative" style="max-width: 500px;">
    <input id="buscador" class="form-control buscador-header" 
           placeholder="Buscar productos..." 
           autocomplete="off">
    <div id="sugerencias" class="sugerencias-container"></div>
  </div>

  <!-- BOT√ìN HAMBURGUESA -->
  <button class="navbar-toggler border-0 bg-transparent" type="button"
          data-bs-toggle="offcanvas"
          data-bs-target="#menuLateral"
          aria-controls="menuLateral"
          aria-label="Abrir men√∫">
    <i class="bi bi-list fs-1 text-white"></i>
  </button>
</header>

<!-- MEN√ö LATERAL -->
<div class="offcanvas offcanvas-start" tabindex="-1" id="menuLateral" aria-labelledby="menuLateralLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="menuLateralLabel">
      <img src="https://ik.imagekit.io/mbsk9dati/logo.jpg?tr=w-48,h-48" 
           alt="Anmago Store" width="30" height="30" 
           style="border-radius: 4px; margin-right: 10px;">
      Anmago Store
    </h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Cerrar"></button>
  </div>

  <div class="offcanvas-body d-flex flex-column gap-3">
    <!-- Inicio -->
    <a href="#" class="nav-link d-flex align-items-center" onclick="volverAInicio(); cerrarMenu(); return false;">
      <i class="bi bi-house me-2"></i> Inicio
    </a>

    <!-- Promociones -->
    <a href="PROMOS.HTML" class="nav-link d-flex align-items-center" onclick="cerrarMenu();">
      <i class="bi bi-percent me-2"></i> Promociones
    </a>

    <!-- Todos los productos -->
    <a href="#" class="nav-link d-flex align-items-center" onclick="mostrarTodosLosProductosCompleto(); cerrarMenu(); return false;">
      <i class="bi bi-grid-3x3 me-2"></i> Todos los productos
    </a>

    <!-- CATEGOR√çAS DIN√ÅMICAS - SIMPLIFICADO -->
    <div id="menu-categorias-dinamico" class="mt-2">
      <p class="small text-muted mb-2"><i class="bi bi-list-ul me-1"></i> Categor√≠as principales</p>
      
      <!-- Se cargar√°n din√°micamente usando TUS funciones -->
      <div class="text-center py-3">
        <div class="spinner-border spinner-border-sm text-primary"></div>
        <p class="mt-2 small text-muted">Cargando categor√≠as...</p>
      </div>
    </div>

    <!-- Contacto -->
    <a href="modalformulario.html" 
       class="nav-link d-flex align-items-center" onclick="cerrarMenu();">
      <i class="bi bi-person me-2"></i> Mi cuenta
    </a>

    <!-- WhatsApp -->
    <a href="https://wa.me/573006498710?text=¬°Hola!%20Me%20interesan%20sus%20productos%20de%20Anmago%20Store" 
       target="_blank"
       class="nav-link d-flex align-items-center text-success" onclick="cerrarMenu();">
      <i class="bi bi-whatsapp me-2"></i> WhatsApp
    </a>

    <!-- Contacto formulario -->
    <a href="https://docs.google.com/forms/d/e/1FAIpQLSevvlCBgz7L6l2-DecKQLazoswqzf7DRYWOaCq4FtMGOR6D2Q/viewform?usp=header"
       target="_blank"
       class="nav-link d-flex align-items-center" onclick="cerrarMenu();">
      <i class="bi bi-envelope me-2"></i> Contacto
    </a>
  </div>

  <div class="offcanvas-footer border-top p-3">
    <div class="text-center small text-muted">
      <p class="mb-1">anmagostore@gmail.com</p>
      <p class="mb-0">3006498710 - 3115046741</p>
    </div>
  </div>
</div>

<script>
// ==============================================
// HEADER SIMPLIFICADO - USA TUS FUNCIONES EXISTENTES
// ==============================================

// Funci√≥n para cerrar el men√∫
function cerrarMenu() {
  const offcanvas = bootstrap.Offcanvas.getInstance(document.getElementById('menuLateral'));
  if (offcanvas) {
    offcanvas.hide();
  }
}

// Funci√≥n que se ejecuta cuando tu app.js carga el cat√°logo
function cargarMenuDesdeTuCatalogo() {
  console.log('üîÑ Cargando men√∫ desde tu cat√°logo...');
  
  const contenedor = document.getElementById('menu-categorias-dinamico');
  if (!contenedor) return;
  
  // Verificar si tu cat√°logo est√° listo
  if (!window.catalogoGlobal || !Array.isArray(window.catalogoGlobal) || window.catalogoGlobal.length === 0) {
    console.log('‚è≥ Esperando cat√°logo de tu app.js...');
    return;
  }
  
  const catalogo = window.catalogoGlobal;
  
  // Obtener tipos √∫nicos de TU cat√°logo
  const tiposUnicos = ['TODOS', ...new Set(catalogo.map(p => p.tipo).filter(Boolean))];
  
  if (tiposUnicos.length === 0) {
    contenedor.innerHTML = '<p class="small text-muted">No hay categor√≠as disponibles</p>';
    return;
  }
  
  // Crear HTML simple usando TUS funciones
  let html = '<p class="small text-muted mb-2"><i class="bi bi-list-ul me-1"></i> Categor√≠as principales</p>';
  
  html += '<div class="d-flex flex-column gap-2">';
  
  tiposUnicos.forEach(tipo => {
    const count = tipo === 'TODOS' 
      ? catalogo.length 
      : catalogo.filter(p => p.tipo === tipo).length;
    
    html += `
      <a href="#" class="nav-link categoria-menu-item d-flex justify-content-between align-items-center py-2 px-3 rounded"
         onclick="${tipo === 'TODOS' ? 'mostrarTodosLosProductosCompleto' : `cargarPorTipo('${tipo}')`}; cerrarMenu(); return false;">
        <div class="d-flex align-items-center">
          <i class="bi ${tipo === 'TODOS' ? 'bi-grid-fill' : 'bi-folder'} me-2"></i>
          <span>${tipo}</span>
        </div>
        <span class="badge bg-primary rounded-pill">${count}</span>
      </a>
    `;
  });
  
  html += '</div>';
  
  contenedor.innerHTML = html;
  console.log('‚úÖ Men√∫ cargado con', tiposUnicos.length, 'categor√≠as');
}

// Inicializar cuando el DOM est√© listo
document.addEventListener('DOMContentLoaded', function() {
  console.log('üöÄ Header simplificado cargado');
  
  // Intentar cargar inmediatamente si el cat√°logo ya est√° disponible
  if (window.catalogoGlobal && Array.isArray(window.catalogoGlobal) && window.catalogoGlobal.length > 0) {
    setTimeout(() => cargarMenuDesdeTuCatalogo(), 300);
  }
  
  // Escuchar cuando tu app.js cargue el cat√°logo
  window.addEventListener('catalogoCargado', function() {
    console.log('üéØ Evento catalogoCargado recibido, cargando men√∫...');
    setTimeout(() => cargarMenuDesdeTuCatalogo(), 300);
  });
  
  // Tambi√©n verificar peri√≥dicamente (fallback)
  const intervalo = setInterval(() => {
    if (window.catalogoGlobal && Array.isArray(window.catalogoGlobal) && window.catalogoGlobal.length > 0) {
      cargarMenuDesdeTuCatalogo();
      clearInterval(intervalo);
    }
  }, 1000);
  
  // Timeout
  setTimeout(() => clearInterval(intervalo), 10000);
});
</script>

<style>
/* ===== ESTILOS B√ÅSICOS PARA EL HEADER ===== */

.header-sticky {
  background: linear-gradient(135deg, #1B4557, #2A6A8F);
  color: white;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1030;
  height: 70px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.buscador-header {
  border-radius: 20px;
  border: none;
  padding: 0.5rem 1rem;
  font-size: 0.9rem;
  background: rgba(255, 255, 255, 0.95);
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  transition: all 0.3s ease;
}

.buscador-header:focus {
  background: white;
  box-shadow: 0 0 0 2px rgba(52, 131, 250, 0.5);
  outline: none;
}

.navbar-toggler {
  padding: 0.25rem;
  margin-left: 0.5rem;
  transition: transform 0.3s ease;
}

.navbar-toggler:hover {
  transform: scale(1.1);
}

/* Offcanvas */
#menuLateral .offcanvas-header {
  background: linear-gradient(135deg, #1B4557, #2A6A8F);
  color: white;
}

#menuLateral .nav-link {
  color: #333;
  padding: 0.75rem 1rem;
  border-radius: 8px;
  transition: all 0.3s ease;
  font-weight: 500;
  display: flex;
  align-items: center;
}

#menuLateral .nav-link:hover {
  background-color: #e9ecef;
  color: #1B4557;
  transform: translateX(5px);
}

.categoria-menu-item {
  border: 1px solid #dee2e6;
  transition: all 0.2s ease;
}

.categoria-menu-item:hover {
  background-color: #1B4557 !important;
  color: white !important;
  border-color: #1B4557;
  transform: translateX(5px);
}

/* Responsive */
@media (max-width: 768px) {
  .header-sticky {
    height: 60px;
    padding: 0.5rem;
  }
  
  .buscador-header {
    font-size: 0.85rem;
    padding: 0.4rem 0.8rem;
  }
  
  #menuLateral .nav-link {
    padding: 0.6rem 0.75rem;
    font-size: 0.9rem;
  }
}
</style>

    <!-- BANNER PROMOCIONAL -->
    <div class="container-fluid banner-promocional py-2 bg-warning">
        <div class="container text-center">
            <small class="fw-bold text-dark">
                ‚≠ê DESCUENTOS EXCLUSIVOS ‚≠ê 
                <span class="d-block d-md-inline">SOLO POR TIEMPO LIMITADO</span>
            </small>
        </div>
    </div>

    <!-- CONTENIDO PRINCIPAL -->
    <main class="container mt-4 pt-3">
        <!-- BOT√ìN VOLVER AL INICIO (Solo desktop) -->
  
 
  <a href="index.html" class="btn-volver-inicio d-none d-md-flex position-fixed align-items-center justify-content-center text-decoration-none"
   style="top: 120px; left: 20px; z-index: 1000; width: 40px; height: 40px; background: white; border: 1px solid #d1d9e6; border-radius: 50%; box-shadow: 0 3px 8px rgba(0, 0, 0, 0.08); color: #0d6efd; transition: all 0.3s ease;"
   data-bs-toggle="tooltip" data-bs-placement="right" data-bs-title="Volver al inicio">
    <i class="bi bi-house-door-fill" style="font-size: 1.3rem;"></i>
</a>
            
            <!-- Temporizador al lado -->
            <div class="d-inline-block float-end">
                <div id="temporizador-ofertas" class="fw-bold text-danger">
                    <i class="bi bi-clock-fill me-1"></i>
                    <span id="contador-ofertas">00:00:00</span>
                </div>
            </div>
        </div>

        <!-- T√çTULO PRINCIPAL -->
        <div class="text-center mb-4">
            <h1 class="display-5 fw-bold text-primary mb-3">
                <i class="bi bi-gift-fill me-2"></i>OFERTAS ESPECIALES
            </h1>
            
            <!-- TEMPORIZADOR DETALLADO -->
            <div class="card border-warning bg-light mb-4 shadow-sm">
                <div class="card-body py-3">
                    <div class="row align-items-center">
                        <div class="col-md-8 text-md-start text-center mb-3 mb-md-0">
                            <h5 class="card-title fw-bold text-warning mb-2">
                                <i class="bi bi-stopwatch me-2"></i> ¬°Oferta por tiempo limitado!
                            </h5>
                            <p class="card-text mb-0 small text-muted">
                                Se muestran <span class="fw-bold">8 ofertas diferentes</span> cada 6 horas
                            </p>
                        </div>
                        <div class="col-md-4 text-md-end text-center">
                            <div class="fw-bold fs-5 text-danger">
                                <i class="bi bi-hourglass-split me-2"></i> 
                                <span id="contador-detallado">Cargando...</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- INDICADOR DE BLOQUE -->
        <div class="alert alert-info mb-4 shadow-sm d-flex justify-content-between align-items-center">
            <div class="d-flex align-items-center">
                <i class="bi bi-info-circle fs-4 me-3"></i>
                <div>
                    <strong>Bloque de ofertas actual:</strong> 
                    <span id="indicador-bloque" class="badge bg-primary ms-2">Cargando...</span>
                    <small class="d-block text-muted mt-1">Las ofertas cambian autom√°ticamente cada 6 horas</small>
                </div>
            </div>
            <a href="index.html" class="btn btn-outline-primary btn-sm">
                <i class="bi bi-house-door me-1"></i> Inicio
            </a>
        </div>

        <!-- PRODUCTOS EN OFERTA -->
        <section class="mb-5">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2 class="h4 fw-bold text-primary mb-0">
                    <i class="bi bi-fire me-2"></i>Productos en Oferta
                </h2>
                <div class="d-flex gap-2">
                    <button onclick="recargarOfertas()" class="btn btn-outline-warning btn-sm">
                        <i class="bi bi-arrow-clockwise"></i>
                    </button>
                    <button onclick="window.mostrarEstadoRotacion()" class="btn btn-outline-info btn-sm">
                        <i class="bi bi-info-lg"></i>
                    </button>
                </div>
            </div>
            
            <!-- GRID DE PRODUCTOS -->
            <div id="grid-ofertas" class="grid-productos-ml">
                <!-- Skeletons de carga -->
                <div class="skeleton" style="height: 280px; border-radius: 12px;"></div>
                <div class="skeleton" style="height: 280px; border-radius: 12px;"></div>
                <div class="skeleton" style="height: 280px; border-radius: 12px;"></div>
                <div class="skeleton" style="height: 280px; border-radius: 12px;"></div>
                <div class="skeleton" style="height: 280px; border-radius: 12px;"></div>
                <div class="skeleton" style="height: 280px; border-radius: 12px;"></div>
                <div class="skeleton" style="height: 280px; border-radius: 12px;"></div>
                <div class="skeleton" style="height: 280px; border-radius: 12px;"></div>
            </div>
            
            <!-- Mensaje si no hay ofertas -->
            <div id="sin-ofertas" class="text-center py-5 d-none">
                <i class="bi bi-emoji-frown fs-1 text-muted mb-3"></i>
                <h4 class="text-muted mb-2">No hay ofertas disponibles</h4>
                <p class="text-muted mb-4">Regresa m√°s tarde para ver nuevas promociones</p>
                <div class="d-flex justify-content-center gap-3">
                    <a href="index.html" class="btn btn-primary">
                        <i class="bi bi-arrow-left me-2"></i>Volver al inicio
                    </a>
                    <button onclick="recargarOfertas()" class="btn btn-outline-primary">
                        <i class="bi bi-arrow-clockwise me-2"></i>Reintentar
                    </button>
                </div>
            </div>
        </section>

        <!-- INFORMACI√ìN ADICIONAL -->
        <div class="row mt-5 pt-4 border-top g-4">
            <div class="col-md-4">
                <div class="text-center p-3 rounded bg-light h-100">
                    <i class="bi bi-lightning text-warning fs-1 mb-3"></i>
                    <h5 class="fw-bold mb-2">Ofertas Rel√°mpago</h5>
                    <p class="text-muted small">Precios especiales por tiempo limitado</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="text-center p-3 rounded bg-light h-100">
                    <i class="bi bi-arrow-repeat text-primary fs-1 mb-3"></i>
                    <h5 class="fw-bold mb-2">Rotaci√≥n Constante</h5>
                    <p class="text-muted small">Nuevas ofertas cada 6 horas</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="text-center p-3 rounded bg-light h-100">
                    <i class="bi bi-percent text-success fs-1 mb-3"></i>
                    <h5 class="fw-bold mb-2">Descuentos Reales</h5>
                    <p class="text-muted small">Hasta 30% de descuento</p>
                </div>
            </div>
        </div>
        
        <!-- BOT√ìN AL FINAL PARA REGRESAR -->
        <div class="text-center mt-5 pt-4">
            <a href="index.html" class="btn btn-lg btn-primary px-5 rounded-pill">
                <i class="bi bi-arrow-left-circle me-2"></i>Regresar a la Tienda Principal
            </a>
        </div>
    </main>

    <!-- CARRITO OFFCANVAS -->
    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasCarrito">
        <div class="offcanvas-header border-bottom">
            <h4 class="offcanvas-title fw-bold text-primary">
                <i class="bi bi-cart-check me-2"></i>Tu Carrito
            </h4>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Cerrar"></button>
        </div>
        <div class="offcanvas-body p-0" id="carrito-contenido">
            <div class="text-center text-muted py-5">
                <i class="bi bi-bag-x fs-1 text-muted"></i>
                <p class="mt-2">Tu carrito est√° vac√≠o</p>
            </div>
        </div>
        <div class="offcanvas-footer p-3 border-top bg-light">
            <div class="d-flex justify-content-between align-items-center mb-3">
                <span class="fw-bold">Subtotal:</span>
                <span id="subtotal" class="fw-bold fs-5 text-primary">$0</span>
            </div>
            <button class="btn btn-gradient px-4 py-3 rounded-pill fw-bold w-100" onclick="abrirFormularioPedido()">
                <i class="bi bi-arrow-right-circle me-2"></i>Continuar compra
            </button>
        </div>
    </div>
 <footer class="footer">
  <div class="footer-container">
    <!-- Primera fila: enlaces, redes y contacto -->
    <div class="footer-main">
      <!-- Enlaces institucionales -->
      <div class="footer-section">
        <h6>Anmago Store</h6>
        <div class="footer-links">
          <a href="index.html">Inicio</a>
          <a href="https://sites.google.com/view/anmagostore/quienes-somos">Nosotros</a>
          <a href="https://sites.google.com/view/anmagostore/politica-de-tratamiento-de-datos">Tratamiento de datos</a>
          <a href="https://sites.google.com/view/anmagostore/politicas-de-envios">Env√≠os</a>
          <a href="modalformulario.html" target="_blank">Contacto</a>
        </div>
      </div>
            <!-- Contacto compacto -->
      <div class="footer-section">
        <h5>Contacto</h5>
        <div class="contacto-compacto">
          <p><strong>Email:</strong> anmagostore@gmail.com</p>
          <p><strong>Celulares:</strong> 3006498710 ‚Äì 3115046741</p>
        </div>
      </div>
      
      <!-- Redes sociales compactas -->
      <div class="footer-section">
        <h4>S√≠guenos</h4>
        <div class="redes-sociales-compactas">
          <a href="https://www.facebook.com/profile.php?id=100092463703154&mibextid=ZbWKwL" target="_blank">
            <img src="https://ik.imagekit.io/mbsk9dati/iconos%20redes/4896d785.IMAGEN.155541.jpg?updatedAt=1761587966118" alt="Facebook" loading="lazy">
          </a>
          <a href="https://www.youtube.com/channel/UCTrvoIT0-3ZbRuE7inPPxDg" target="_blank">
            <img src="https://ik.imagekit.io/mbsk9dati/iconos%20redes/2a9cda61.IMAGEN.155515.jpg?updatedAt=1761587966369" alt="YouTube" loading="lazy">
          </a>
          <a href="https://www.tiktok.com/@anmagostore?_t=8g37PtO0Los&_r=1" target="_blank">
            <img src="https://ik.imagekit.io/mbsk9dati/iconos%20redes/1d8aa1ac.IMAGEN.155420.jpg?updatedAt=1761587966443" alt="TikTok" loading="lazy">
          </a>
          <a href="https://instagram.com/anmagostore?igshid=OGQ5ZDc2ODk2ZA==" target="_blank">
            <img src="https://ik.imagekit.io/mbsk9dati/iconos%20redes/cf840649.IMAGEN.155447.jpg?updatedAt=1761587966410" alt="Instagram" loading="lazy">
          </a>
          <a href="https://wa.me/573006498710" target="_blank">
            <img src="https://ik.imagekit.io/mbsk9dati/iconos%20redes/9018ebd1.IMAGEN.155401.jpg?updatedAt=1761587966435" alt="WhatsApp" loading="lazy">
          </a>
          <a href="https://www.google.com/search?q=anmago+store" target="_blank">
            <img src="https://ik.imagekit.io/mbsk9dati/iconos%20redes/ea6b8532.IMAGEN.155430.jpg?updatedAt=1761587966451" alt="Google" loading="lazy">
          </a>
        </div>
      </div>
    </div>
    
    <!-- Segunda fila: medios de pago y copyright -->
    <div class="footer-secondary">
      <!-- Medios de pago compactos -->
      <div class="medios-pago-compactos">
        <h4>Medios de pago</h4>
        <div class="logos-pago-compactos">
          <img src="https://cdn.worldvectorlogo.com/logos/nequi-2.svg" alt="Nequi">
          <img src="https://cdn.worldvectorlogo.com/logos/daviplata.svg" alt="Daviplata">
          <img src="https://epayco.com/wp-content/uploads/2023/01/epayco_pago_seguro.jpg" alt="ePayco">
        </div>
        
        <!-- SECCI√ìN TRANSPORTADORAS OPTIMIZADA -->
        <div class="transportadoras-convenio">
          <h5 class="fw-bold mb-2">üöö Transportadoras convenio</h5>
          <div class="logos-transportadoras">
            <a href="https://www.interrapidisimo.com/" target="_blank" class="transportadora-link">
              <div class="transportadora-item">
                <img src="https://images.seeklogo.com/logo-png/40/1/inter-rapidisimo-logo-png_seeklogo-400713.png" 
                     alt="Interrapid√≠simo">
              </div>
            </a>
            <a href="https://www.coordinadora.com/" target="_blank" class="transportadora-link">
              <div class="transportadora-item">
                <img src="https://images.seeklogo.com/logo-png/3/1/coordinadora-logo-png_seeklogo-35207.png" 
                     alt="Coordinadora">
              </div>
            </a>
            <a href="https://www.servientrega.com/" target="_blank" class="transportadora-link">
              <div class="transportadora-item">
                <img src="https://images.seeklogo.com/logo-png/17/1/servientrega-logo-png_seeklogo-176994.png" 
                     alt="Servientrega">
              </div>
            </a>
            <a href="https://www.envia.co/" target="_blank" class="transportadora-link">
              <div class="transportadora-item">
                <img src="https://images.seeklogo.com/logo-png/31/1/envia-mensajeria-logo-png_seeklogo-311137.png" 
                     alt="Env√≠a">
              </div>
            </a>
          </div>
          <p class="text-center mt-2 small">
            <i class="bi bi-truck"></i> Contrarreembolso disponible
          </p>
        </div>
      </div>
      
      <!-- Copyright -->
      <div class="copyright">
        &copy; 2025 Anmago Store. Todos los derechos reservados.
      </div>
    </div>
  </div>
</footer>

<style>
/* ===== CSS COMPLETO PARA EL FOOTER ===== */

/* FOOTER PRINCIPAL */
.footer {
  background: #1B4557;
  color: white;
  padding: 0.75rem 0.5rem;
  margin-top: 0.5rem;
}

.footer-container {
  max-width: 1400px;
  margin: 0 auto;
}

/* PRIMERA FILA */
.footer-main {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1.5rem;
  padding-bottom: 1rem;
  border-bottom: 1px solid rgba(255,255,255,0.1);
  margin-bottom: 1rem;
}

@media (min-width: 768px) {
  .footer-main {
    grid-template-columns: repeat(3, 1fr);
    gap: 2rem;
  }
}

/* SECCIONES */
.footer-section {
  margin-bottom: 1rem;
}

.footer-section h4,
.footer-section h5,
.footer-section h6 {
  color: white;
  margin-bottom: 0.75rem;
  font-size: 1rem;
  font-weight: 600;
}

/* ENLACES */
.footer-links {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.footer-links a {
  color: #e9ecef;
  text-decoration: none;
  transition: all 0.3s ease;
  font-size: 0.85rem;
}

.footer-links a:hover {
  color: white;
  text-decoration: underline;
  transform: translateX(3px);
}

/* CONTACTO */
.contacto-compacto p {
  margin: 0.25rem 0;
  font-size: 0.85rem;
  line-height: 1.3;
}

.contacto-compacto strong {
  color: white;
}

/* REDES SOCIALES */
.redes-sociales-compactas {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
}

.redes-sociales-compactas a {
  display: inline-flex;
  transition: all 0.3s ease;
}

.redes-sociales-compactas a:hover {
  transform: translateY(-2px);
}

.redes-sociales-compactas img {
  width: 32px;
  height: 32px;
  object-fit: contain;
  border-radius: 4px;
  transition: transform 0.3s ease;
}

.redes-sociales-compactas a:hover img {
  transform: scale(1.1);
}

/* SEGUNDA FILA */
.footer-secondary {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  align-items: center;
}

/* MEDIOS DE PAGO */
.medios-pago-compactos {
  text-align: center;
  width: 100%;
}

.medios-pago-compactos h4 {
  color: white;
  margin-bottom: 0.75rem;
  font-size: 1rem;
}

.logos-pago-compactos {
  display: flex;
  gap: 1rem;
  justify-content: center;
  flex-wrap: wrap;
  margin-bottom: 1.5rem;
}

.logos-pago-compactos img {
  height: 30px;
  object-fit: contain;
  background: white;
  border-radius: 6px;
  padding: 4px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  transition: transform 0.3s ease;
}

.logos-pago-compactos img:hover {
  transform: translateY(-2px);
}

/* TRANSPORTADORAS MEJORADAS */
.transportadoras-convenio {
  margin-top: 1rem;
  padding-top: 1rem;
  border-top: 1px solid rgba(255,255,255,0.1);
}

.transportadoras-convenio h5 {
  color: white;
  text-align: center;
  margin-bottom: 1rem;
  font-size: 1rem;
}

.logos-transportadoras {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1rem;
}

.transportadora-link {
  text-decoration: none;
  color: inherit;
  display: block;
}

.transportadora-item {
  width: 120px;
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: white;
  border-radius: 8px;
  padding: 0.75rem;
  box-shadow: 0 3px 8px rgba(0,0,0,0.1);
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

.transportadora-item:hover {
  transform: translateY(-3px);
  box-shadow: 0 5px 15px rgba(0,0,0,0.15);
  background: #f8f9fa;
}

.transportadora-item::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, #667eea, #764ba2);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.transportadora-item:hover::before {
  opacity: 1;
}

.transportadora-item img {
  height: 30px;
  width: auto;
  max-width: 100px;
  object-fit: contain;
  filter: grayscale(30%) contrast(110%);
  transition: all 0.3s ease;
}

.transportadora-item:hover img {
  filter: grayscale(0%) contrast(120%);
  transform: scale(1.05);
}

/* EFECTO ESPECIAL PARA CADA TRANSPORTADORA */
.transportadora-item:nth-child(1):hover {
  background: #ff6b6b10;
}

.transportadora-item:nth-child(2):hover {
  background: #4ecdc410;
}

.transportadora-item:nth-child(3):hover {
  background: #45b7d110;
}

.transportadora-item:nth-child(4):hover {
  background: #96ceb410;
}

/* COPYRIGHT */
.copyright {
  color: #e9ecef;
  font-size: 0.8rem;
  text-align: center;
  margin-top: 1rem;
  padding-top: 1rem;
  border-top: 1px solid rgba(255,255,255,0.1);
  width: 100%;
}

/* RESPONSIVE */
@media (max-width: 768px) {
  .footer {
    padding: 0.5rem;
  }
  
  .footer-main {
    gap: 1rem;
  }
  
  .footer-section h4,
  .footer-section h5,
  .footer-section h6 {
    font-size: 0.9rem;
    margin-bottom: 0.5rem;
  }
  
  .footer-links a {
    font-size: 0.8rem;
  }
  
  .redes-sociales-compactas img {
    width: 28px;
    height: 28px;
  }
  
  .logos-pago-compactos img {
    height: 25px;
  }
  
  .transportadora-item {
    width: 100px;
    height: 50px;
    padding: 0.5rem;
  }
  
  .transportadora-item img {
    height: 25px;
  }
  
  .logos-transportadoras {
    gap: 0.75rem;
  }
}

@media (max-width: 480px) {
  .logos-transportadoras {
    gap: 0.5rem;
  }
  
  .transportadora-item {
    width: 85px;
    height: 45px;
    padding: 0.4rem;
  }
  
  .transportadora-item img {
    height: 22px;
  }
  
  .logos-pago-compactos {
    gap: 0.75rem;
  }
  
  .logos-pago-compactos img {
    height: 22px;
  }
}
</style>

     <!-- BOT√ìN CARRITO FLOTANTE -->
  <a href="#" class="btn-carrito-flotante d-none d-md-flex" data-bs-toggle="offcanvas" data-bs-target="#offcanvasCarrito">
    <i class="bi bi-bag-heart fs-5"></i>
    <span id="contador-carrito" class="contador-carrito">0</span>
  </a>

    <!-- BARRA INFERIOR MOBILE -->
    <nav class="navbar fixed-bottom bg-white border-top d-md-none py-2 shadow-lg">
        <div class="container-fluid px-0">
            <div class="d-flex justify-content-around w-100">
                <a href="index.html" class="text-center text-decoration-none text-primary">
                    <i class="bi bi-house-fill fs-5"></i>
                    <div class="small mt-1">Inicio</div>
                </a>
                <a href="PROMOS.HTML" class="text-center text-decoration-none text-warning">
                    <i class="bi bi-percent fs-5"></i>
                    <div class="small mt-1">Ofertas</div>
                </a>
                <a href="#" class="text-center text-decoration-none position-relative"
                   data-bs-toggle="offcanvas" data-bs-target="#offcanvasCarrito">
                    <div class="bg-primary rounded-circle d-flex align-items-center justify-content-center" 
                         style="width: 50px; height: 50px; margin-top: -10px;">
                        <i class="bi bi-cart fs-5 text-white"></i>
                    </div>
                    <span id="contador-carrito-mobile" 
                          class="position-absolute top-0 start-100 translate-middle badge bg-danger rounded-pill" 
                          style="font-size: 0.6rem;">0</span>
                    <div class="small mt-1">Carrito</div>
                </a>
                <a href="https://wa.me/573006498710?text=¬°Hola!%20Me%20interesan%20sus%20productos%20de%20Anmago%20Store" 
                   class="text-center text-decoration-none text-success"
                   target="_blank" rel="noopener noreferrer">
                    <i class="bi bi-whatsapp fs-5"></i>
                    <div class="small mt-1">Chat</div>
                </a>
                <a href="modalformulario.html" class="text-center text-decoration-none text-dark">
                    <i class="bi bi-person fs-5"></i>
                    <div class="small mt-1">Cuenta</div>
                </a>
            </div>
        </div>
    </nav>

    <!-- SCRIPTS EXTERNOS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- SCRIPT ESPEC√çFICO PARA OFERTAS -->
    <script>
// ==============================================
// SISTEMA DE ROTACI√ìN SECUENCIAL - VERSI√ìN SIN CONFLICTOS
// ==============================================

// CONFIGURACI√ìN GLOBAL (usar nombres √∫nicos)
window.PROMOS_CONFIG = {
    productosPorBloque: 8,
    horasPorBloque: 6,
    indiceBloqueActual: 0
};

// VARIABLES GLOBALES (usar nombres √∫nicos)
window.PROMOS_productosEnPromocion = [];
window.PROMOS_intervaloActualizacion = null;
window.PROMOS_sistemaInicializado = false;

// INICIALIZACI√ìN
document.addEventListener('DOMContentLoaded', async function() {
    console.log('üîÑ Sistema PROMOS - Inicializando...');
    
    try {
        // 1. Cargar cat√°logo (funci√≥n propia)
        await PROMOS_cargarCatalogoDirecto();
        
        // 2. Calcular bloque actual
        PROMOS_calcularBloqueActual();
        
        // 3. Iniciar sistema
        PROMOS_iniciarSistemaOfertas();
        
        // 4. Actualizar carrito
        if (typeof window.actualizarContadorCarrito === 'function') {
            window.actualizarContadorCarrito();
        }
        
        console.log('‚úÖ Sistema PROMOS inicializado correctamente');
        window.PROMOS_sistemaInicializado = true;
        
    } catch (error) {
        console.error('‚ùå Error inicializando PROMOS:', error);
        PROMOS_mostrarErrorOfertas('Error cargando ofertas');
    }
});

// CALCULAR BLOQUE ACTUAL - FUNCI√ìN PROPIA
function PROMOS_calcularBloqueActual() {
    if (window.PROMOS_productosEnPromocion.length === 0) {
        window.PROMOS_CONFIG.indiceBloqueActual = 0;
        return 0;
    }
    
    const ahora = new Date();
    const horasDesdeMedianoche = ahora.getHours() + (ahora.getMinutes() / 60);
    
    // Cada 6 horas cambia de bloque
    const bloquePorHora = Math.floor(horasDesdeMedianoche / window.PROMOS_CONFIG.horasPorBloque);
    
    // Calcular d√≠as desde una fecha fija
    const fechaBase = new Date(2024, 0, 1);
    const diasDesdeBase = Math.floor((ahora - fechaBase) / (1000 * 60 * 60 * 24));
    
    // El √≠ndice total considera los d√≠as tambi√©n
    const bloquesPorDia = 24 / window.PROMOS_CONFIG.horasPorBloque;
    const totalBloquesHastaAhora = (diasDesdeBase * bloquesPorDia) + bloquePorHora;
    
    // Calcular cu√°ntos grupos completos de productos tenemos
    const gruposCompletos = Math.ceil(window.PROMOS_productosEnPromocion.length / window.PROMOS_CONFIG.productosPorBloque);
    
    if (gruposCompletos === 0) {
        window.PROMOS_CONFIG.indiceBloqueActual = 0;
    } else {
        window.PROMOS_CONFIG.indiceBloqueActual = totalBloquesHastaAhora % gruposCompletos;
    }
    
    console.log(`üìÖ PROMOS: Bloque calculado: ${window.PROMOS_CONFIG.indiceBloqueActual + 1}/${gruposCompletos}`);
    return window.PROMOS_CONFIG.indiceBloqueActual;
}

// CARGAR CAT√ÅLOGO - FUNCI√ìN PROPIA
async function PROMOS_cargarCatalogoDirecto() {
    try {
        console.log('üì¶ PROMOS: Cargando cat√°logo...');
        
        const fuentes = [
            "https://raw.githubusercontent.com/anmagoS/anmago.store/main/catalogo.json",
            "catalogo.json"
        ];
        
        let productos = [];
        
        for (const fuente of fuentes) {
            try {
                console.log(`üîç PROMOS: Intentando: ${fuente}`);
                const res = await fetch(fuente);
                
                if (!res.ok) continue;
                
                productos = await res.json();
                console.log(`‚úÖ PROMOS: Cat√°logo cargado desde: ${fuente}`);
                break;
                
            } catch (error) {
                console.warn(`‚ö†Ô∏è PROMOS: Fall√≥: ${fuente}`);
                continue;
            }
        }
        
        if (productos.length === 0) {
            throw new Error('No se pudo cargar el cat√°logo');
        }
        
        // Filtrar SOLO productos con promo: true o "s√≠"
        window.PROMOS_productosEnPromocion = productos.filter(producto => {
            if (!producto) return false;
            
            const promo = producto.promo;
            const tienePromo = promo === "s√≠" || promo === true || promo === "true";
            
            const tieneImagen = producto.imagen || (producto.imagenes && producto.imagenes.length > 0);
            const tieneNombre = producto.producto && producto.producto.trim().length > 0;
            
            return tienePromo && tieneImagen && tieneNombre;
        });
        
        console.log(`‚úÖ PROMOS: ${window.PROMOS_productosEnPromocion.length} productos CON PROMO encontrados`);
        
    } catch (error) {
        console.error('‚ùå PROMOS: Error cargando cat√°logo:', error);
        throw error;
    }
}

// OBTENER PRODUCTOS DEL BLOQUE ACTUAL - FUNCI√ìN PROPIA
function PROMOS_obtenerProductosDelBloqueActual() {
    if (!window.PROMOS_productosEnPromocion || window.PROMOS_productosEnPromocion.length === 0) {
        console.warn('‚ö†Ô∏è PROMOS: No hay productos en promoci√≥n');
        return [];
    }
    
    // Calcular √≠ndices
    const inicio = window.PROMOS_CONFIG.indiceBloqueActual * window.PROMOS_CONFIG.productosPorBloque;
    const fin = Math.min(inicio + window.PROMOS_CONFIG.productosPorBloque, window.PROMOS_productosEnPromocion.length);
    
    // Obtener productos
    let productosBloque = window.PROMOS_productosEnPromocion.slice(inicio, fin);
    
    // Si no hay suficientes, completar desde el inicio
    if (productosBloque.length < window.PROMOS_CONFIG.productosPorBloque) {
        const necesarios = window.PROMOS_CONFIG.productosPorBloque - productosBloque.length;
        const adicionales = window.PROMOS_productosEnPromocion.slice(0, necesarios);
        productosBloque = productosBloque.concat(adicionales);
    }
    
    console.log(`‚úÖ PROMOS: Bloque ${window.PROMOS_CONFIG.indiceBloqueActual + 1}: Productos ${inicio + 1}-${fin}`);
    return productosBloque;
}

// INICIAR SISTEMA DE OFERTAS - FUNCI√ìN PROPIA
function PROMOS_iniciarSistemaOfertas() {
    PROMOS_iniciarTemporizadores();
    PROMOS_cargarProductosPromocion();
    PROMOS_programarActualizacion();
    setInterval(PROMOS_verificarCambioBloque, 60000);
}

// CARGAR PRODUCTOS EN PROMOCI√ìN - FUNCI√ìN PROPIA
function PROMOS_cargarProductosPromocion(forzar = false) {
    console.log('üîÑ PROMOS: Cargando productos en promoci√≥n...');
    
    if (!window.PROMOS_productosEnPromocion || window.PROMOS_productosEnPromocion.length === 0) {
        console.warn('‚ö†Ô∏è PROMOS: No hay datos, reintentando...');
        
        if (!forzar) {
            setTimeout(() => PROMOS_cargarProductosPromocion(true), 1500);
            return;
        } else {
            PROMOS_mostrarErrorOfertas('No hay productos en promoci√≥n');
            return;
        }
    }
    
    try {
        const productosParaMostrar = PROMOS_obtenerProductosDelBloqueActual();
        
        if (productosParaMostrar.length === 0) {
            console.warn('‚ö†Ô∏è PROMOS: No se obtuvieron productos para mostrar');
            return;
        }
        
        PROMOS_actualizarIndicadorBloque();
        PROMOS_renderizarProductosOferta(productosParaMostrar);
        
    } catch (error) {
        console.error('üí• PROMOS: Error cargando productos:', error);
        PROMOS_mostrarErrorOfertas('Error al cargar productos');
    }
}

// ACTUALIZAR INDICADOR DEL BLOQUE - FUNCI√ìN PROPIA
function PROMOS_actualizarIndicadorBloque() {
    const elemento = document.getElementById('indicador-bloque');
    if (!elemento) return;
    
    const bloque = window.PROMOS_CONFIG.indiceBloqueActual;
    const totalProductos = window.PROMOS_productosEnPromocion.length;
    const inicio = bloque * window.PROMOS_CONFIG.productosPorBloque + 1;
    const fin = Math.min(inicio + window.PROMOS_CONFIG.productosPorBloque - 1, totalProductos);
    const totalBloques = Math.ceil(totalProductos / window.PROMOS_CONFIG.productosPorBloque);
    
    elemento.textContent = `Bloque ${bloque + 1}/${totalBloques}`;
    elemento.title = `Productos ${inicio}-${fin} de ${totalProductos} | Cambia cada 6 horas`;
}

// INICIAR TEMPORIZADORES - FUNCI√ìN PROPIA
function PROMOS_iniciarTemporizadores() {
    PROMOS_actualizarTemporizador();
    PROMOS_actualizarContadorDetallado();
    
    setInterval(PROMOS_actualizarTemporizador, 1000);
    setInterval(PROMOS_actualizarContadorDetallado, 1000);
}

// TEMPORIZADOR PRINCIPAL - FUNCI√ìN PROPIA
function PROMOS_actualizarTemporizador() {
    const elemento = document.getElementById("contador-ofertas");
    if (!elemento) return;
    
    const tiempo = PROMOS_calcularTiempoRestante();
    elemento.textContent = `${tiempo.horas}:${tiempo.minutos}:${tiempo.segundos}`;
}

// CONTADOR DETALLADO - FUNCI√ìN PROPIA
function PROMOS_actualizarContadorDetallado() {
    const elemento = document.getElementById("contador-detallado");
    if (!elemento) return;
    
    const tiempo = PROMOS_calcularTiempoRestante();
    elemento.textContent = `${tiempo.horas}h ${tiempo.minutos}m ${tiempo.segundos}s`;
}

// CALCULAR TIEMPO RESTANTE - FUNCI√ìN PROPIA
function PROMOS_calcularTiempoRestante() {
    const ahora = new Date();
    const hora = ahora.getHours();
    const minutos = ahora.getMinutes();
    const segundos = ahora.getSeconds();
    
    // Calcular cu√°ntas horas faltan para el pr√≥ximo m√∫ltiplo de 6
    const horasHastaProximoBloque = window.PROMOS_CONFIG.horasPorBloque - (hora % window.PROMOS_CONFIG.horasPorBloque);
    
    let segundosHasta;
    if (horasHastaProximoBloque > 0) {
        segundosHasta = (horasHastaProximoBloque - 1) * 3600 + 
                       (59 - minutos) * 60 + 
                       (60 - segundos);
    } else {
        segundosHasta = (window.PROMOS_CONFIG.horasPorBloque - 1) * 3600 + 
                       (59 - minutos) * 60 + 
                       (60 - segundos);
    }
    
    return {
        horas: Math.floor(segundosHasta / 3600).toString().padStart(2, '0'),
        minutos: Math.floor((segundosHasta % 3600) / 60).toString().padStart(2, '0'),
        segundos: (segundosHasta % 60).toString().padStart(2, '0'),
        totalSegundos: segundosHasta
    };
}

// CREAR CARD DE PRODUCTO - FUNCI√ìN PROPIA
function PROMOS_crearCardProductoHTML(producto) {
    if (!producto) return '';
    
    const precioOriginal = Number(producto.precio) || 0;
    let precioFinal = precioOriginal;
    let badgePromo = '';
    
    // Verificar promoci√≥n
    const estaEnPromo = producto.promo === "s√≠" || producto.promo === true || producto.promo === "true";
    
    if (estaEnPromo) {
        const descuento = producto.precioOferta ? Math.round((1 - producto.precioOferta / precioOriginal) * 100) : 10;
        precioFinal = producto.precioOferta || Math.round(precioOriginal * 0.9);
        badgePromo = `<span class="badge bg-danger position-absolute" style="top: 10px; left: 10px; z-index: 1;">-${descuento}%</span>`;
    }
    
    // Obtener imagen
    let imagenMostrar = 'https://ik.imagekit.io/mbsk9dati/placeholder-producto.jpg';
    
    if (producto.imagenes && Array.isArray(producto.imagenes) && producto.imagenes.length > 0) {
        const imagenPrincipal = producto.imagenes.find(img => 
            img && img.tipo && img.tipo.toUpperCase() === "PRINCIPAL"
        );
        
        if (imagenPrincipal && imagenPrincipal.url) {
            imagenMostrar = imagenPrincipal.url;
        } else {
            const imagenVariante = producto.imagenes.find(img => 
                img && img.tipo && img.tipo.toUpperCase() === "VARIANTE"
            );
            imagenMostrar = (imagenVariante && imagenVariante.url) || producto.imagenes[0].url || imagenMostrar;
        }
    } else if (producto.imagen) {
        imagenMostrar = producto.imagen;
    }
    
    const nombreProducto = producto.producto || 'Producto sin nombre';
    const tipoProducto = producto.tipo || '';
    const subtipoProducto = producto.subtipo || '';
    const productoId = producto.id || Math.random().toString(36).substr(2, 9);
    
    return `
        <div class="card-producto-ml">
            <a href="PRODUCTO.HTML?id=${productoId}" style="text-decoration: none; color: inherit;">
                <div class="position-relative">
                    <img src="${imagenMostrar}" 
                         alt="${nombreProducto}" 
                         class="card-img-ml"
                         loading="lazy"
                         onerror="this.src='https://ik.imagekit.io/mbsk9dati/placeholder-producto.jpg'">
                    ${badgePromo}
                </div>
                
                <div class="card-body-ml">
                    <div class="d-flex flex-wrap gap-1 mb-1">
                        ${tipoProducto ? `<span class="badge bg-info text-dark small">${tipoProducto}</span>` : ''}
                        ${subtipoProducto ? `<span class="badge bg-secondary small">${subtipoProducto}</span>` : ''}
                    </div>
                    
                    <h3 class="nombre-producto-ml small line-clamp-2">${nombreProducto}</h3>
                    
                    <div class="d-flex justify-content-between align-items-center mt-2">
                        <div>
                            <div class="precio-ml fw-bold text-primary">
                                $${precioFinal.toLocaleString('es-CO')}
                            </div>
                            ${estaEnPromo && precioOriginal !== precioFinal ? `
                                <div class="text-muted text-decoration-line-through small">
                                    $${precioOriginal.toLocaleString('es-CO')}
                                </div>
                            ` : ''}
                        </div>
                        
                        <button class="btn btn-outline-primary btn-sm" 
                                onclick="event.preventDefault(); window.location.href='PRODUCTO.HTML?id=${productoId}'; return false;"
                                title="Ver producto">
                            <i class="bi bi-eye"></i>
                        </button>
                    </div>
                </div>
            </a>
        </div>
    `;
}

// RENDERIZAR PRODUCTOS EN OFERTA - FUNCI√ìN PROPIA
function PROMOS_renderizarProductosOferta(productos) {
    const grid = document.getElementById('grid-ofertas');
    const sinOfertas = document.getElementById('sin-ofertas');
    
    if (!grid) {
        console.error('‚ùå PROMOS: Grid no encontrado');
        return;
    }
    
    // Validar productos
    if (!productos || !Array.isArray(productos) || productos.length === 0) {
        console.warn('‚ö†Ô∏è PROMOS: Sin productos v√°lidos');
        
        grid.innerHTML = '';
        
        if (sinOfertas) {
            sinOfertas.classList.remove('d-none');
        }
        
        grid.classList.add('d-none');
        return;
    }
    
    // Limpiar grid
    grid.innerHTML = '';
    
    // Crear y agregar cards
    let cardsCreadas = 0;
    productos.forEach((producto) => {
        try {
            const cardHTML = PROMOS_crearCardProductoHTML(producto);
            if (cardHTML && cardHTML.trim().length > 50) {
                grid.innerHTML += cardHTML;
                cardsCreadas++;
            }
        } catch (error) {
            console.error('‚ùå PROMOS: Error creando card:', error);
        }
    });
    
    // Mostrar resultados
    if (cardsCreadas > 0) {
        console.log(`‚úÖ PROMOS: ${cardsCreadas} cards creadas`);
        
        grid.classList.remove('d-none');
        
        if (sinOfertas) {
            sinOfertas.classList.add('d-none');
        }
    } else {
        console.error('‚ùå PROMOS: No se pudo crear ninguna card');
        
        grid.innerHTML = `
            <div class="col-12 text-center py-5">
                <i class="bi bi-exclamation-triangle fs-1 text-warning mb-3"></i>
                <h4 class="text-muted mb-2">Error al mostrar productos</h4>
                <p class="text-muted mb-3">Por favor, intenta de nuevo</p>
                <button onclick="PROMOS_recargarOfertas()" class="btn btn-warning">
                    <i class="bi bi-arrow-clockwise me-1"></i> Reintentar
                </button>
            </div>
        `;
        
        if (sinOfertas) {
            sinOfertas.classList.remove('d-none');
        }
    }
}

// PROGRAMAR ACTUALIZACI√ìN AUTOM√ÅTICA - FUNCI√ìN PROPIA
function PROMOS_programarActualizacion() {
    if (window.PROMOS_intervaloActualizacion) {
        clearInterval(window.PROMOS_intervaloActualizacion);
    }
    
    const tiempoRestante = PROMOS_calcularTiempoRestante();
    console.log(`‚è∞ PROMOS: Pr√≥xima rotaci√≥n en: ${tiempoRestante.horas}:${tiempoRestante.minutos}:${tiempoRestante.segundos}`);
    
    setTimeout(() => {
        console.log('üîÑ PROMOS: ¬°Rotando al siguiente bloque!');
        
        // Incrementar bloque actual
        const totalBloques = Math.ceil(window.PROMOS_productosEnPromocion.length / window.PROMOS_CONFIG.productosPorBloque);
        window.PROMOS_CONFIG.indiceBloqueActual = (window.PROMOS_CONFIG.indiceBloqueActual + 1) % totalBloques;
        
        console.log(`   PROMOS: Nuevo bloque: ${window.PROMOS_CONFIG.indiceBloqueActual + 1}/${totalBloques}`);
        
        // Cargar nuevos productos
        PROMOS_cargarProductosPromocion();
        
        // Configurar intervalo
        window.PROMOS_intervaloActualizacion = setInterval(() => {
            console.log('üîÑ PROMOS: Rotaci√≥n autom√°tica (cada 6 horas)');
            
            window.PROMOS_CONFIG.indiceBloqueActual = (window.PROMOS_CONFIG.indiceBloqueActual + 1) % totalBloques;
            console.log(`   PROMOS: Nuevo bloque: ${window.PROMOS_CONFIG.indiceBloqueActual + 1}/${totalBloques}`);
            
            PROMOS_cargarProductosPromocion();
        }, window.PROMOS_CONFIG.horasPorBloque * 60 * 60 * 1000);
        
    }, (tiempoRestante.totalSegundos + 1) * 1000);
}

// VERIFICAR CAMBIO DE BLOQUE - FUNCI√ìN PROPIA
function PROMOS_verificarCambioBloque() {
    const tiempo = PROMOS_calcularTiempoRestante();
    if (tiempo.totalSegundos <= 0) {
        console.log('üîÑ PROMOS: ¬°Hora de rotar!');
        
        PROMOS_calcularBloqueActual();
        PROMOS_cargarProductosPromocion();
    }
}

// MOSTRAR ERROR - FUNCI√ìN PROPIA
function PROMOS_mostrarErrorOfertas(mensaje = 'Error temporal') {
    const grid = document.getElementById('grid-ofertas');
    if (grid) {
        grid.innerHTML = `
            <div class="col-12 text-center py-5">
                <i class="bi bi-exclamation-triangle fs-1 text-warning mb-3"></i>
                <h4 class="text-muted mb-2">${mensaje}</h4>
                <p class="text-muted mb-3">No se pudieron cargar las ofertas</p>
                <div class="d-flex justify-content-center gap-2">
                    <button onclick="PROMOS_recargarOfertas()" class="btn btn-warning">
                        <i class="bi bi-arrow-clockwise me-1"></i> Reintentar
                    </button>
                    <a href="index.html" class="btn btn-outline-primary">
                        <i class="bi bi-house me-1"></i> Ir al inicio
                    </a>
                </div>
            </div>
        `;
    }
}

// FUNCI√ìN PARA RECARGAR OFERTAS - FUNCI√ìN PROPIA
function PROMOS_recargarOfertas() {
    console.log('üîÑ PROMOS: Recargando ofertas manualmente...');
    PROMOS_cargarProductosPromocion();
}

// FUNCI√ìN PARA VER ESTADO DEL SISTEMA
window.PROMOS_mostrarEstadoRotacion = function() {
    const ahora = new Date();
    const totalProductos = window.PROMOS_productosEnPromocion.length;
    const productosPorBloque = window.PROMOS_CONFIG.productosPorBloque;
    const totalBloques = Math.ceil(totalProductos / productosPorBloque);
    const bloqueActual = window.PROMOS_CONFIG.indiceBloqueActual;
    const inicio = (bloqueActual * productosPorBloque) + 1;
    const fin = Math.min(inicio + productosPorBloque - 1, totalProductos);
    
    const info = `
=== SISTEMA DE ROTACI√ìN SECUENCIAL ===

üìä ESTAD√çSTICAS:
‚Ä¢ Productos con promo: ${totalProductos}
‚Ä¢ Productos por bloque: ${productosPorBloque}
‚Ä¢ Bloques totales: ${totalBloques}
‚Ä¢ Bloque actual: ${bloqueActual + 1}/${totalBloques}
‚Ä¢ Productos mostrados: ${inicio}-${fin} de ${totalProductos}
‚Ä¢ Rotaci√≥n cada: ${window.PROMOS_CONFIG.horasPorBloque} horas

‚è∞ TIEMPO:
‚Ä¢ Hora actual: ${ahora.getHours()}:${ahora.getMinutes().toString().padStart(2, '0')}
‚Ä¢ Pr√≥xima rotaci√≥n: ${PROMOS_calcularTiempoRestante().horas}:${PROMOS_calcularTiempoRestante().minutos}:${PROMOS_calcularTiempoRestante().segundos}

üîÑ PR√ìXIMOS BLOQUES:
${Array.from({length: Math.min(5, totalBloques)}, (_, i) => {
    const bloqueIdx = (bloqueActual + i) % totalBloques;
    const inicioBloque = (bloqueIdx * productosPorBloque) + 1;
    const finBloque = Math.min(inicioBloque + productosPorBloque - 1, totalProductos);
    const productos = window.PROMOS_productosEnPromocion.slice(bloqueIdx * productosPorBloque, Math.min((bloqueIdx + 1) * productosPorBloque, totalProductos));
    const nombres = productos.map(p => p.producto.substring(0, 30) + (p.producto.length > 30 ? '...' : '')).join(', ');
    return `Bloque ${bloqueIdx + 1} (${inicioBloque}-${finBloque}): ${nombres}`;
}).join('\n')}

üìå COMANDOS:
‚Ä¢ PROMOS_recargarOfertas() - Forzar recarga
‚Ä¢ PROMOS_avanzarBloque() - Ir al siguiente bloque
‚Ä¢ PROMOS_retrocederBloque() - Volver al bloque anterior
`;
    
    console.log(info);
    alert(info);
};

// FUNCIONES DE CONTROL MANUAL
window.PROMOS_avanzarBloque = function() {
    const totalBloques = Math.ceil(window.PROMOS_productosEnPromocion.length / window.PROMOS_CONFIG.productosPorBloque);
    window.PROMOS_CONFIG.indiceBloqueActual = (window.PROMOS_CONFIG.indiceBloqueActual + 1) % totalBloques;
    console.log(`‚ñ∂Ô∏è PROMOS: Avanzando al bloque ${window.PROMOS_CONFIG.indiceBloqueActual + 1}/${totalBloques}`);
    PROMOS_cargarProductosPromocion();
};

window.PROMOS_retrocederBloque = function() {
    const totalBloques = Math.ceil(window.PROMOS_productosEnPromocion.length / window.PROMOS_CONFIG.productosPorBloque);
    window.PROMOS_CONFIG.indiceBloqueActual = (window.PROMOS_CONFIG.indiceBloqueActual - 1 + totalBloques) % totalBloques;
    console.log(`‚óÄÔ∏è PROMOS: Retrocediendo al bloque ${window.PROMOS_CONFIG.indiceBloqueActual + 1}/${totalBloques}`);
    PROMOS_cargarProductosPromocion();
};

// Actualizar el bot√≥n en HTML
document.addEventListener('DOMContentLoaded', function() {
    // Cambiar el bot√≥n de info para usar la nueva funci√≥n
    const infoBtn = document.querySelector('button[onclick*="mostrarInfoOfertas"]');
    if (infoBtn) {
        infoBtn.setAttribute('onclick', 'PROMOS_mostrarEstadoRotacion()');
    }
    
    // Cambiar el bot√≥n de recargar
    const recargarBtn = document.querySelector('button[onclick*="recargarOfertas"]');
    if (recargarBtn) {
        recargarBtn.setAttribute('onclick', 'PROMOS_recargarOfertas()');
    }
});

console.log('‚úÖ Sistema PROMOS - VERSI√ìN SIN CONFLICTOS cargada');
    </script>
    
    
</body>
</html>
